# Secure Software Development - Vulnerability Assessment and Remediation

## Overview

This repository contains the work completed as part of the Secure Software Development (SSD) module, focusing on identifying and fixing vulnerabilities in a web application. The assessment highlights various security vulnerabilities and implements solutions to enhance the overall security posture of the application.

## Objectives

- Identify potential security vulnerabilities in the application.
- Implement fixes to remediate identified vulnerabilities.
- Enhance authentication mechanisms with OAuth for secure user login.

## Tools Used

- **SonarQube**: Utilized for static code analysis to identify code quality issues and vulnerabilities in the application.
- **OWASP ZAP**: Employed for dynamic application security testing to find vulnerabilities in real-time during the applicationâ€™s execution.

## Features

- **JWT Authentication**: Implemented JSON Web Token (JWT) authentication to secure admin login and signup functionalities.
- **OAuth Integration**: Added Google and Facebook OAuth authentication for user sign-in, providing a secure and user-friendly login experience.
- **Error Handling**: Improved error handling to ensure sensitive information is not exposed through error messages.
- **CORS Configuration**: Set up Cross-Origin Resource Sharing (CORS) to restrict access to the API from specific domains, enhancing security against cross-origin attacks.
- **Rate Limiting**: Implemented rate limiting to prevent abuse and protect endpoints from denial-of-service (DoS) attacks.
- **Token Management**: Introduced token blacklisting and refresh token mechanisms to enhance session management and security.

## Vulnerabilities Addressed

1. **Sensitive Data Exposure**: 
   - Ensured that sensitive data, such as passwords, are not sent to the client and are hashed securely.

2. **SQL Injection**: 
   - Implemented input validation using Joi and Celebrate to ensure all incoming data is validated and sanitized before being used in database queries.

3. **Lack of Token Management**: 
   - Added functionality to blacklist tokens upon logout and manage access tokens and refresh tokens effectively.

4. **Improper Error Handling**: 
   - Implemented comprehensive error handling to prevent leakage of sensitive information and provide user-friendly error messages.

5. **CORS Misconfiguration**: 
   - Configured the CORS middleware to allow requests only from a specific frontend URL stored in an environment variable, enhancing security by restricting access.

6. **Disclosure of Version Information**: 
   - Integrated Helmet middleware, which sets various HTTP headers to enhance security and removes the `X-Powered-By` header, preventing attackers from discerning the Express version in use.

7. **Content Security Policy (CSP) Implementation**: 
   - Configured the CSP to dynamically include trusted sources for scripts, styles, and images using environment variables, ensuring that only specified safe origins can load resources.

8. **MIME Type Vulnerabilities**: 
   - Added middleware to set the `X-Content-Type-Options` header to `'nosniff'`, ensuring browsers adhere to the declared content type and preventing MIME sniffing vulnerabilities.

9. **API Exposure**: 
   - Implemented authentication middleware for all critical API endpoints to ensure that only authorized users can perform operations such as adding, deleting, or updating records.

10. **Rate Limiting**: 
    - Implemented rate limiting using middleware to restrict the number of requests per IP address, helping to mitigate abuse and improve server performance.

11. **Token Handling**: 
    - Enhanced the JWT authentication middleware to handle token expiration and limit data exposure by retrieving only necessary fields from the database.

12. **Improper Data Sanitization**: 
    - Refactored API endpoints to sanitize responses, ensuring that only necessary fields are returned and preventing the exposure of sensitive internal information such as private IP addresses.

13. **OAuth Integration**: 
    - Integrated Google and Facebook OAuth for secure user login, enhancing the authentication process while maintaining security.
